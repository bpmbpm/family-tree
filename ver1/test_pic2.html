<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏ —Ñ–æ—Ç–æ –≤ —É–∑–µ–ª –ø–µ—Ä—Å–æ–Ω—ã (Graphviz SVG)</title>
    <script src="https://unpkg.com/@viz-js/viz@3.4.0/lib/viz-standalone.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        h1 { color: #333; }
        .section { background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; margin-top: 0; }
        .result { font-weight: bold; padding: 6px 12px; border-radius: 4px; display: inline-block; margin-top: 8px; }
        .result.ok { background: #d4edda; color: #155724; }
        .result.fail { background: #f8d7da; color: #721c24; }
        #graphContainer { min-height: 200px; }
        #graphContainer svg { max-width: 100%; height: auto; }
        .test-log { font-family: monospace; font-size: 13px; background: #f8f9fa; border: 1px solid #ced4da; border-radius: 4px; padding: 10px; max-height: 200px; overflow-y: auto; white-space: pre-wrap; margin-top: 10px; }
        .photo-preview { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 10px; }
        .photo-card { text-align: center; }
        .photo-card img { width: 80px; height: 80px; object-fit: cover; border-radius: 6px; border: 2px solid #ccc; display: block; }
        .photo-card .label { font-size: 12px; margin-top: 4px; color: #495057; word-break: break-all; max-width: 90px; }
        .photo-card .status { font-size: 11px; }
        .photo-card .status.ok { color: #155724; }
        .photo-card .status.fail { color: #721c24; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏ —Ñ–æ—Ç–æ –≤ —É–∑–µ–ª –ø–µ—Ä—Å–æ–Ω—ã (Graphviz SVG)</h1>
    <p>–≠—Ç–æ—Ç —Ñ–∞–π–ª —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –≤—Å—Ç–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ –ø–æ–¥—Ö–æ–¥, —á—Ç–æ –∏ –≤ <code>index.html</code>: Graphviz —Ä–µ–Ω–¥–µ—Ä–∏—Ç –≥—Ä–∞—Ñ –≤ SVG, –∑–∞—Ç–µ–º JS –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö –∫–∞–∫ <code>&lt;image&gt;</code> –ø—Ä—è–º–æ –≤ SVG-—É–∑–ª—ã.</p>

    <!-- –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ -->
    <div class="section">
        <h2>–¢–µ—Å—Ç 1: –ù–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ –≤ –ø–∞–ø–∫–µ <code>pic/</code></h2>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª—ã —Ñ–æ—Ç–æ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ HTTP (HEAD-–∑–∞–ø—Ä–æ—Å).</p>
        <div class="photo-preview" id="photoPreview">
            <em style="color:#888">–ó–∞–≥—Ä—É–∑–∫–∞...</em>
        </div>
        <div id="test1Result"></div>
    </div>

    <!-- –¢–µ—Å—Ç 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –∫–∞–∫ base64 data URL -->
    <div class="section">
        <h2>–¢–µ—Å—Ç 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –∫–∞–∫ base64 data URL</h2>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–æ—Ç–æ –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ data URL (–Ω—É–∂–Ω–æ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ SVG).</p>
        <div id="dataUrlPreview" class="photo-preview">
            <em style="color:#888">–ó–∞–≥—Ä—É–∑–∫–∞...</em>
        </div>
        <div id="test2Result"></div>
    </div>

    <!-- –¢–µ—Å—Ç 3: Graphviz + –≤—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ç–æ –≤ SVG-—É–∑–ª—ã -->
    <div class="section">
        <h2>–¢–µ—Å—Ç 3: Graphviz —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å —Ñ–æ—Ç–æ –≤ —É–∑–ª–∞—Ö</h2>
        <p>–°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ –∏–∑ —Ç—Ä—ë—Ö –ø–µ—Ä—Å–æ–Ω, –∑–∞—Ç–µ–º –≤—Å—Ç–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ –≤ SVG-—É–∑–ª—ã. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ–æ—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–ª–µ–≤–∞ –≤ –∫–∞–∂–¥–æ–º —É–∑–ª–µ.</p>
        <div id="graphContainer">
            <em style="color:#888">–°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ...</em>
        </div>
        <div id="test3Log" class="test-log"></div>
        <div id="test3Result"></div>
    </div>

    <script>
    (function() {
        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî —Ç–µ –∂–µ –ø–µ—Ä—Å–æ–Ω—ã, —á—Ç–æ –≤ tree.xlsx (–∏–∑ –ø–∞–ø–∫–∏ pic/)
        const testPeople = [
            { idA: '–£–ª—å—è–Ω–æ–≤_–ò–ª—å—è_–ù–∏–∫–æ–ª–∞–µ–≤–∏—á', label: '–ò–ª—å—è –£–ª—å—è–Ω–æ–≤', sex: '–ú', birth: '1831', death: '1886' },
            { idA: '–ë–ª–∞–Ω–∫_–ú–∞—Ä–∏—è_–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞', label: '–ú–∞—Ä–∏—è –ë–ª–∞–Ω–∫', sex: '–ñ', birth: '1835', death: '1916' },
            { idA: '–£–ª—å—è–Ω–æ–≤_–í–ª–∞–¥–∏–º–∏—Ä_–ò–ª—å–∏—á', label: '–í–ª–∞–¥–∏–º–∏—Ä –£–ª—å—è–Ω–æ–≤', sex: '–ú', birth: '1870', death: '1924', hasFather: '–£–ª—å—è–Ω–æ–≤_–ò–ª—å—è_–ù–∏–∫–æ–ª–∞–µ–≤–∏—á', hasMother: '–ë–ª–∞–Ω–∫_–ú–∞—Ä–∏—è_–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞' },
        ];

        const maleColor = '#a3c4f3';
        const femaleColor = '#fbb9c0';
        const unknownColor = '#d5d8dc';

        function log3(msg) {
            const el = document.getElementById('test3Log');
            el.textContent += msg + '\n';
        }

        function setResult(id, ok, msg) {
            const el = document.getElementById(id);
            el.innerHTML = `<span class="result ${ok ? 'ok' : 'fail'}">${ok ? '‚úÖ' : '‚ùå'} ${msg}</span>`;
        }

        // --- –¢–µ—Å—Ç 1: HEAD-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤ ---
        async function test1() {
            const filesToCheck = [
                'dafaultm.png',
                'dafaultf.png',
                ...testPeople.map(p => p.idA + '.png'),
            ];

            const preview = document.getElementById('photoPreview');
            preview.innerHTML = '';

            let allFound = true;
            const results = await Promise.all(filesToCheck.map(async filename => {
                try {
                    const resp = await fetch('pic/' + filename, { method: 'HEAD' });
                    return { filename, ok: resp.ok };
                } catch {
                    return { filename, ok: false };
                }
            }));

            results.forEach(({ filename, ok }) => {
                if (!ok) allFound = false;

                const card = document.createElement('div');
                card.className = 'photo-card';

                const img = document.createElement('img');
                img.src = 'pic/' + filename;
                img.alt = filename;
                img.onerror = () => { img.style.opacity = '0.2'; };
                card.appendChild(img);

                const lbl = document.createElement('div');
                lbl.className = 'label';
                lbl.textContent = filename;
                card.appendChild(lbl);

                const st = document.createElement('div');
                st.className = 'status ' + (ok ? 'ok' : 'fail');
                st.textContent = ok ? '–Ω–∞–π–¥–µ–Ω' : '–Ω–µ –Ω–∞–π–¥–µ–Ω';
                card.appendChild(st);

                preview.appendChild(card);
            });

            const foundCount = results.filter(r => r.ok).length;
            setResult('test1Result', foundCount > 0,
                `–ù–∞–π–¥–µ–Ω–æ ${foundCount} –∏–∑ ${filesToCheck.length} —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ`);
            return results;
        }

        // --- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫ base64 data URL ---
        async function loadImageAsDataUrl(src) {
            try {
                const response = await fetch(src);
                if (!response.ok) return null;
                const blob = await response.blob();
                return new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onloadend = () => resolve(reader.result);
                    reader.onerror = () => resolve(null);
                    reader.readAsDataURL(blob);
                });
            } catch {
                return null;
            }
        }

        // --- –¢–µ—Å—Ç 2: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–∫ data URL ---
        async function test2() {
            const preview = document.getElementById('dataUrlPreview');
            preview.innerHTML = '';

            const filesToLoad = ['dafaultm.png', 'dafaultf.png'];
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ, —á—Ç–æ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ —Ç–µ—Å—Ç–µ 1
            testPeople.forEach(p => filesToLoad.push(p.idA + '.png'));

            let successCount = 0;
            for (const filename of filesToLoad) {
                const dataUrl = await loadImageAsDataUrl('pic/' + filename);

                const card = document.createElement('div');
                card.className = 'photo-card';

                const img = document.createElement('img');
                if (dataUrl) {
                    img.src = dataUrl;
                    successCount++;
                } else {
                    img.style.opacity = '0.2';
                    img.src = 'pic/' + filename;
                }
                img.alt = filename;
                card.appendChild(img);

                const lbl = document.createElement('div');
                lbl.className = 'label';
                lbl.textContent = filename.length > 25 ? filename.substring(0, 23) + '‚Ä¶' : filename;
                lbl.title = filename;
                card.appendChild(lbl);

                const st = document.createElement('div');
                st.className = 'status ' + (dataUrl ? 'ok' : 'fail');
                st.textContent = dataUrl ? 'data URL ‚úì' : '–æ—à–∏–±–∫–∞';
                card.appendChild(st);

                preview.appendChild(card);
            }

            setResult('test2Result', successCount > 0,
                `–£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∫–∞–∫ data URL: ${successCount} –∏–∑ ${filesToLoad.length}`);
        }

        // --- –í—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ç–æ –≤ SVG-—É–∑–ª—ã ---
        async function injectPhotosIntoSvg(svgEl, peopleList) {
            const IMG_SIZE = 45;
            const IMG_MARGIN = 6;
            let injected = 0;

            const nodeGroups = svgEl.querySelectorAll('g.node');
            log3(`–ù–∞–π–¥–µ–Ω–æ —É–∑–ª–æ–≤ –≤ SVG: ${nodeGroups.length}`);

            for (const nodeGroup of nodeGroups) {
                const titleEl = nodeGroup.querySelector('title');
                if (!titleEl) { log3('  - —É–∑–µ–ª –±–µ–∑ <title>, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º'); continue; }
                const nodeId = titleEl.textContent.trim();
                const person = peopleList.find(p => p.idA === nodeId);
                if (!person) { log3(`  - —É–∑–µ–ª "${nodeId}" –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`); continue; }

                log3(`  - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —É–∑–µ–ª: ${nodeId}`);

                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ–∞–π–ª —Ñ–æ—Ç–æ (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –∏–ª–∏ –∑–∞–≥–ª—É—à–∫–∞)
                const personalFile = person.idA + '.png';
                const defaultFile = (person.sex === '–ñ' || person.sex === 'F') ? 'dafaultf.png' : 'dafaultm.png';

                let dataUrl = await loadImageAsDataUrl('pic/' + personalFile);
                if (!dataUrl) {
                    log3(`    —Ñ–æ—Ç–æ ${personalFile} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–±—É–µ–º –∑–∞–≥–ª—É—à–∫—É ${defaultFile}`);
                    dataUrl = await loadImageAsDataUrl('pic/' + defaultFile);
                }
                if (!dataUrl) { log3(`    –∑–∞–≥–ª—É—à–∫–∞ —Ç–æ–∂–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`); continue; }

                log3(`    —Ñ–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∫–∞–∫ data URL (${dataUrl.length} –±–∞–π—Ç)`);

                const shape = nodeGroup.querySelector('polygon, ellipse, rect, path');
                if (!shape) { log3(`    —Ñ–æ—Ä–º–∞ —É–∑–ª–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`); continue; }

                const bbox = shape.getBBox();
                if (!bbox || bbox.width === 0) { log3(`    BBox –ø—É—Å—Ç–æ–π, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`); continue; }

                log3(`    BBox: x=${bbox.x.toFixed(1)}, y=${bbox.y.toFixed(1)}, w=${bbox.width.toFixed(1)}, h=${bbox.height.toFixed(1)}`);

                const imgX = bbox.x + IMG_MARGIN;
                const imgY = bbox.y + (bbox.height - IMG_SIZE) / 2;

                // ClipPath –¥–ª—è —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã—Ö —É–≥–ª–æ–≤ —Ñ–æ—Ç–æ
                const defs = svgEl.querySelector('defs') || svgEl.insertBefore(
                    document.createElementNS('http://www.w3.org/2000/svg', 'defs'),
                    svgEl.firstChild
                );
                const clipId = 'photo-clip-' + nodeId.replace(/[^a-zA-Z0-9]/g, '_');
                const clipPath = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');
                clipPath.setAttribute('id', clipId);
                const clipRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                clipRect.setAttribute('x', imgX);
                clipRect.setAttribute('y', imgY);
                clipRect.setAttribute('width', IMG_SIZE);
                clipRect.setAttribute('height', IMG_SIZE);
                clipRect.setAttribute('rx', 5);
                clipPath.appendChild(clipRect);
                defs.appendChild(clipPath);

                const svgImg = document.createElementNS('http://www.w3.org/2000/svg', 'image');
                svgImg.setAttribute('x', imgX);
                svgImg.setAttribute('y', imgY);
                svgImg.setAttribute('width', IMG_SIZE);
                svgImg.setAttribute('height', IMG_SIZE);
                svgImg.setAttribute('preserveAspectRatio', 'xMidYMid slice');
                svgImg.setAttribute('href', dataUrl);
                svgImg.setAttribute('clip-path', `url(#${clipId})`);

                const firstText = nodeGroup.querySelector('text');
                if (firstText) {
                    nodeGroup.insertBefore(svgImg, firstText);
                } else {
                    nodeGroup.appendChild(svgImg);
                }

                // –°–º–µ—â–∞–µ–º —Ç–µ–∫—Å—Ç –≤–ø—Ä–∞–≤–æ
                const textShift = IMG_SIZE + IMG_MARGIN * 2;
                nodeGroup.querySelectorAll('text').forEach(t => {
                    const curX = parseFloat(t.getAttribute('x') || '0');
                    t.setAttribute('x', curX + textShift / 2);
                    t.querySelectorAll('tspan').forEach(ts => {
                        const tsX = parseFloat(ts.getAttribute('x') || '0');
                        ts.setAttribute('x', tsX + textShift / 2);
                    });
                });

                injected++;
                log3(`    ‚úÖ —Ñ–æ—Ç–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ`);
            }

            return injected;
        }

        // --- –¢–µ—Å—Ç 3: Graphviz + –≤—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ç–æ ---
        async function test3() {
            log3('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Graphviz...');
            const graphContainer = document.getElementById('graphContainer');

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º DOT-–≥—Ä–∞—Ñ
            const nodes = testPeople.map(p => {
                const fillcolor = p.sex === '–ú' || p.sex === 'M' ? maleColor
                    : p.sex === '–ñ' || p.sex === 'F' ? femaleColor : unknownColor;
                const label = `${p.label}\\n(${p.birth || '?'}‚Äì${p.death || '?'})`;
                return `  ${p.idA} [shape=box, style="filled,rounded", fillcolor="${fillcolor}", color="#2c3e50", fontname="Arial", fontsize=11, label="${label}", width=2.5, height=0.9, fixedsize=false, margin="0.9,0.15"];`;
            });

            const edges = [];
            testPeople.forEach(p => {
                if (p.hasFather) edges.push(`  ${p.hasFather} -> ${p.idA};`);
                if (p.hasMother) edges.push(`  ${p.hasMother} -> ${p.idA};`);
            });

            const dotCode = `digraph G {\n  rankdir=TB;\n  node [fontname="Arial", fontsize=11];\n  edge [color="#5d6d7e"];\n\n${nodes.join('\n')}\n\n${edges.join('\n')}\n}`;
            log3('DOT-–∫–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω:\n' + dotCode);

            try {
                log3('\n–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ @viz-js/viz...');
                const viz = await Viz.instance();
                const svgStr = await viz.renderString(dotCode, { format: 'svg' });
                graphContainer.innerHTML = svgStr;
                log3('SVG –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω —É—Å–ø–µ—à–Ω–æ.');

                const svgEl = graphContainer.querySelector('svg');
                if (!svgEl) {
                    log3('–û–®–ò–ë–ö–ê: SVG —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                    setResult('test3Result', false, 'SVG –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞');
                    return;
                }

                log3('\n–í—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ç–æ –≤ —É–∑–ª—ã SVG...');
                const injectedCount = await injectPhotosIntoSvg(svgEl, testPeople);
                log3(`\n–ò—Ç–æ–≥: –≤—Å—Ç–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ç–æ –≤ ${injectedCount} –∏–∑ ${testPeople.length} —É–∑–ª–æ–≤.`);

                setResult('test3Result', injectedCount > 0,
                    `–ì—Ä–∞—Ñ –ø–æ—Å—Ç—Ä–æ–µ–Ω, —Ñ–æ—Ç–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ ${injectedCount} –∏–∑ ${testPeople.length} —É–∑–ª–æ–≤`);
            } catch (err) {
                log3('–û–®–ò–ë–ö–ê: ' + err.message);
                console.error(err);
                setResult('test3Result', false, '–û—à–∏–±–∫–∞: ' + err.message);
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
        (async () => {
            await test1();
            await test2();
            await test3();
        })();
    })();
    </script>

    <div style="margin-top:30px; padding:15px; background:#e8f4f8; border-radius:8px; font-size:14px;">
        <strong>üìã –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</strong>
        <ul>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>python3 -m http.server</code> –≤ –ø–∞–ø–∫–µ <code>ver1/</code>).</li>
            <li>–¢–µ—Å—Ç 1 –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ñ–∞–π–ª—ã —Ñ–æ—Ç–æ –ª–µ–∂–∞—Ç –≤ <code>pic/</code> –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ HTTP.</li>
            <li>–¢–µ—Å—Ç 2 –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ –∫–∞–∫ base64 data URL (–Ω—É–∂–Ω–æ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ SVG).</li>
            <li>–¢–µ—Å—Ç 3 —Å—Ç—Ä–æ–∏—Ç Graphviz –≥—Ä–∞—Ñ –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –≤ —É–∑–ª—ã ‚Äî –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π <code>index.html</code>.</li>
            <li>–í—Å–µ —Ç—Ä–∏ —Ç–µ—Å—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å <span style="color:green;font-weight:bold">‚úÖ</span> –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ç–æ –≤ –¥–µ—Ä–µ–≤–µ.</li>
        </ul>
        <p>–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å <code>idA</code> –∏–∑ Excel (—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º <code>.png</code>).<br>
        –ó–∞–≥–ª—É—à–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: <code>pic/dafaultm.png</code> (–º—É–∂—á–∏–Ω—ã), <code>pic/dafaultf.png</code> (–∂–µ–Ω—â–∏–Ω—ã).</p>
    </div>
</body>
</html>
