<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏ —Ñ–æ—Ç–æ –≤ —É–∑–µ–ª –ø–µ—Ä—Å–æ–Ω—ã (Graphviz image= attribute)</title>
    <script src="https://unpkg.com/@viz-js/viz@3.4.0/lib/viz-standalone.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        h1 { color: #333; }
        .section { background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; margin-top: 0; }
        .result { font-weight: bold; padding: 6px 12px; border-radius: 4px; display: inline-block; margin-top: 8px; }
        .result.ok { background: #d4edda; color: #155724; }
        .result.fail { background: #f8d7da; color: #721c24; }
        #graphContainer { min-height: 200px; }
        #graphContainer svg { max-width: 100%; height: auto; }
        .test-log { font-family: monospace; font-size: 13px; background: #f8f9fa; border: 1px solid #ced4da; border-radius: 4px; padding: 10px; max-height: 200px; overflow-y: auto; white-space: pre-wrap; margin-top: 10px; }
        .photo-preview { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 10px; }
        .photo-card { text-align: center; }
        .photo-card img { width: 80px; height: 80px; object-fit: cover; border-radius: 6px; border: 2px solid #ccc; display: block; }
        .photo-card .label { font-size: 12px; margin-top: 4px; color: #495057; word-break: break-all; max-width: 90px; }
        .photo-card .status { font-size: 11px; }
        .photo-card .status.ok { color: #155724; }
        .photo-card .status.fail { color: #721c24; }
        .dot-code { background: #f8f9fa; padding: 10px; border-radius: 6px; font-family: 'Courier New', monospace; font-size: 12px; white-space: pre-wrap; max-height: 200px; overflow: auto; border: 1px solid #ced4da; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –≤—Å—Ç–∞–≤–∫–∏ —Ñ–æ—Ç–æ –≤ —É–∑–µ–ª –ø–µ—Ä—Å–æ–Ω—ã (Graphviz image= attribute)</h1>
    <p>–≠—Ç–æ—Ç —Ñ–∞–π–ª —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –≤—Å—Ç–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º <strong>—à—Ç–∞—Ç–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ Graphviz <code>image=</code></strong>.
    –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ <code>@viz-js/viz</code> –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø—Ü–∏—é <code>images</code> –≤ <code>renderString()</code>, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π,
    –ø–æ—Å–ª–µ —á–µ–≥–æ Graphviz –≤–∫–ª—é—á–∞–µ—Ç <code>&lt;image&gt;</code> —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä—è–º–æ –≤ SVG.</p>

    <!-- –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ -->
    <div class="section">
        <h2>–¢–µ—Å—Ç 1: –ù–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ –≤ –ø–∞–ø–∫–µ <code>pic/</code></h2>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª—ã —Ñ–æ—Ç–æ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ HTTP (HEAD-–∑–∞–ø—Ä–æ—Å).</p>
        <div class="photo-preview" id="photoPreview">
            <em style="color:#888">–ó–∞–≥—Ä—É–∑–∫–∞...</em>
        </div>
        <div id="test1Result"></div>
    </div>

    <!-- –¢–µ—Å—Ç 2: Graphviz + —à—Ç–∞—Ç–Ω—ã–π image= –∞—Ç—Ä–∏–±—É—Ç -->
    <div class="section">
        <h2>–¢–µ—Å—Ç 2: Graphviz —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å <code>image=</code> –∞—Ç—Ä–∏–±—É—Ç–æ–º</h2>
        <p>–°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ –∏–∑ —Ç—Ä—ë—Ö –ø–µ—Ä—Å–æ–Ω –∏—Å–ø–æ–ª—å–∑—É—è –∞—Ç—Ä–∏–±—É—Ç <code>image=</code> –∏ –æ–ø—Ü–∏—é <code>images</code> –≤ <code>renderString()</code>.
        –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ–æ—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —É–∑–ª–∞—Ö –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ SVG <code>&lt;image&gt;</code> —ç–ª–µ–º–µ–Ω—Ç—ã.</p>
        <div id="dotCodeSection">
            <strong>DOT-–∫–æ–¥:</strong>
            <pre id="dotCodePre" class="dot-code">(–±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞)</pre>
        </div>
        <div id="graphContainer">
            <em style="color:#888">–°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ...</em>
        </div>
        <div id="test2Log" class="test-log"></div>
        <div id="test2Result"></div>
    </div>

    <!-- –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ SVG —Å—Ç—Ä—É–∫—Ç—É—Ä—ã -->
    <div class="section">
        <h2>–¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è <code>&lt;image&gt;</code> —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ SVG</h2>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ Graphviz –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏–ª <code>&lt;image&gt;</code> —ç–ª–µ–º–µ–Ω—Ç—ã –≤ SVG (—à—Ç–∞—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º).</p>
        <div id="test3Log" class="test-log"></div>
        <div id="test3Result"></div>
    </div>

    <script>
    (function() {
        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî —Ç–µ –∂–µ –ø–µ—Ä—Å–æ–Ω—ã, —á—Ç–æ –≤ tree.xlsx (–∏–∑ –ø–∞–ø–∫–∏ pic/)
        const testPeople = [
            { idA: '–£–ª—å—è–Ω–æ–≤_–ò–ª—å—è_–ù–∏–∫–æ–ª–∞–µ–≤–∏—á', label: '–ò–ª—å—è –£–ª—å—è–Ω–æ–≤', sex: '–ú', birth: '1831', death: '1886' },
            { idA: '–ë–ª–∞–Ω–∫_–ú–∞—Ä–∏—è_–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞', label: '–ú–∞—Ä–∏—è –ë–ª–∞–Ω–∫', sex: '–ñ', birth: '1835', death: '1916' },
            { idA: '–£–ª—å—è–Ω–æ–≤_–í–ª–∞–¥–∏–º–∏—Ä_–ò–ª—å–∏—á', label: '–í–ª–∞–¥–∏–º–∏—Ä –£–ª—å—è–Ω–æ–≤', sex: '–ú', birth: '1870', death: '1924', hasFather: '–£–ª—å—è–Ω–æ–≤_–ò–ª—å—è_–ù–∏–∫–æ–ª–∞–µ–≤–∏—á', hasMother: '–ë–ª–∞–Ω–∫_–ú–∞—Ä–∏—è_–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞' },
        ];

        // Photo size registered for Graphviz layout (px)
        const PHOTO_SIZE_PX = 50;

        const maleColor = '#a3c4f3';
        const femaleColor = '#fbb9c0';
        const unknownColor = '#d5d8dc';

        function log2(msg) {
            const el = document.getElementById('test2Log');
            el.textContent += msg + '\n';
        }

        function log3(msg) {
            const el = document.getElementById('test3Log');
            el.textContent += msg + '\n';
        }

        function setResult(id, ok, msg) {
            const el = document.getElementById(id);
            el.innerHTML = `<span class="result ${ok ? 'ok' : 'fail'}">${ok ? '‚úÖ' : '‚ùå'} ${msg}</span>`;
        }

        // --- –¢–µ—Å—Ç 1: HEAD-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤ ---
        async function test1() {
            const filesToCheck = [
                'dafaultm.png',
                'dafaultf.png',
                ...testPeople.map(p => p.idA + '.png'),
            ];

            const preview = document.getElementById('photoPreview');
            preview.innerHTML = '';

            let allFound = true;
            const results = await Promise.all(filesToCheck.map(async filename => {
                try {
                    const resp = await fetch('pic/' + filename, { method: 'HEAD' });
                    return { filename, ok: resp.ok };
                } catch {
                    return { filename, ok: false };
                }
            }));

            results.forEach(({ filename, ok }) => {
                if (!ok) allFound = false;

                const card = document.createElement('div');
                card.className = 'photo-card';

                const img = document.createElement('img');
                img.src = 'pic/' + filename;
                img.alt = filename;
                img.onerror = () => { img.style.opacity = '0.2'; };
                card.appendChild(img);

                const lbl = document.createElement('div');
                lbl.className = 'label';
                lbl.textContent = filename;
                card.appendChild(lbl);

                const st = document.createElement('div');
                st.className = 'status ' + (ok ? 'ok' : 'fail');
                st.textContent = ok ? '–Ω–∞–π–¥–µ–Ω' : '–Ω–µ –Ω–∞–π–¥–µ–Ω';
                card.appendChild(st);

                preview.appendChild(card);
            });

            const foundCount = results.filter(r => r.ok).length;
            setResult('test1Result', foundCount > 0,
                `–ù–∞–π–¥–µ–Ω–æ ${foundCount} –∏–∑ ${filesToCheck.length} —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ`);
            return results;
        }

        // --- –¢–µ—Å—Ç 2 + 3: Graphviz —Å native image= –∞—Ç—Ä–∏–±—É—Ç–æ–º ---
        async function test2and3(photoCheckResults) {
            log2('–û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—É—Ç–∏ –∫ —Ñ–æ—Ç–æ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä—Å–æ–Ω—ã...');

            // Determine photo paths based on test1 results
            const photoCheckMap = {};
            photoCheckResults.forEach(r => { photoCheckMap[r.filename] = r.ok; });

            function getPhotoPath(person) {
                const personalFile = person.idA + '.png';
                if (photoCheckMap[personalFile]) return 'pic/' + personalFile;
                const defaultFile = (person.sex === '–ñ' || person.sex === 'F') ? 'dafaultf.png' : 'dafaultm.png';
                if (photoCheckMap[defaultFile]) return 'pic/' + defaultFile;
                return null;
            }

            // Build DOT code with native image= attribute
            const nodes = testPeople.map(p => {
                const fillcolor = (p.sex === '–ú' || p.sex === 'M') ? maleColor
                    : (p.sex === '–ñ' || p.sex === 'F') ? femaleColor : unknownColor;
                const label = `${p.label}\\n(${p.birth || '?'}‚Äì${p.death || '?'})`;
                const photoPath = getPhotoPath(p);
                log2(`  ${p.idA}: —Ñ–æ—Ç–æ = ${photoPath || '(–Ω–µ—Ç)'}`);
                if (photoPath) {
                    return `  ${p.idA} [shape=box, style="filled,rounded", fillcolor="${fillcolor}", color="#2c3e50", fontname="Arial", fontsize=11, label="${label}", image="${photoPath}", imagescale=true, imagepos="ml", labelloc="c", width=2.8, height=0.85, fixedsize=false];`;
                } else {
                    return `  ${p.idA} [shape=box, style="filled,rounded", fillcolor="${fillcolor}", color="#2c3e50", fontname="Arial", fontsize=11, label="${label}"];`;
                }
            });

            const edges = [];
            testPeople.forEach(p => {
                if (p.hasFather) edges.push(`  ${p.hasFather} -> ${p.idA};`);
                if (p.hasMother) edges.push(`  ${p.hasMother} -> ${p.idA};`);
            });

            const dotCode = `digraph G {\n  rankdir=TB;\n  node [fontname="Arial", fontsize=11];\n  edge [color="#5d6d7e"];\n\n${nodes.join('\n')}\n\n${edges.join('\n')}\n}`;
            document.getElementById('dotCodePre').textContent = dotCode;
            log2('\nDOT-–∫–æ–¥ —Å image= –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω.');

            // Build images option: unique paths with fixed dimensions
            const imagePathSet = new Set();
            testPeople.forEach(p => {
                const path = getPhotoPath(p);
                if (path) imagePathSet.add(path);
            });
            const imagesOption = Array.from(imagePathSet).map(path => ({
                name: path,
                width: PHOTO_SIZE_PX,
                height: PHOTO_SIZE_PX
            }));
            log2(`\n–û–ø—Ü–∏—è images –¥–ª—è renderString: ${JSON.stringify(imagesOption, null, 2)}`);

            const graphContainer = document.getElementById('graphContainer');
            graphContainer.innerHTML = '';

            try {
                log2('\n–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è @viz-js/viz...');
                const viz = await Viz.instance();
                log2('–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ viz.renderString() —Å –æ–ø—Ü–∏–µ–π images...');
                const svgStr = await viz.renderString(dotCode, {
                    format: 'svg',
                    images: imagesOption
                });
                graphContainer.innerHTML = svgStr;
                log2('SVG –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω —É—Å–ø–µ—à–Ω–æ.');

                const svgEl = graphContainer.querySelector('svg');
                if (!svgEl) {
                    log2('–û–®–ò–ë–ö–ê: SVG —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                    setResult('test2Result', false, 'SVG –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞');
                    return;
                }

                setResult('test2Result', true, `–ì—Ä–∞—Ñ –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —à—Ç–∞—Ç–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ Graphviz image=`);

                // Test 3: check SVG for <image> elements
                log3('–ê–Ω–∞–ª–∏–∑ SVG —Å—Ç—Ä—É–∫—Ç—É—Ä—ã...');
                const imageEls = svgEl.querySelectorAll('image');
                log3(`–ù–∞–π–¥–µ–Ω–æ <image> —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ SVG: ${imageEls.length}`);

                imageEls.forEach((imgEl, i) => {
                    const href = imgEl.getAttribute('href') || imgEl.getAttribute('xlink:href') || '';
                    const w = imgEl.getAttribute('width') || '';
                    const h = imgEl.getAttribute('height') || '';
                    log3(`  [${i+1}] href="${href}", width="${w}", height="${h}"`);
                });

                if (imageEls.length > 0) {
                    setResult('test3Result', true,
                        `–ù–∞–π–¥–µ–Ω–æ ${imageEls.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ <image> –≤ SVG ‚Äî —à—Ç–∞—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º Graphviz image= —Ä–∞–±–æ—Ç–∞–µ—Ç`);
                } else {
                    // If no <image> elements found, check if photos were available
                    const photosAvailable = imagesOption.length > 0;
                    if (!photosAvailable) {
                        log3('–§–æ—Ç–æ –Ω–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ pic/, –ø–æ—ç—Ç–æ–º—É image= –∞—Ç—Ä–∏–±—É—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è.');
                        setResult('test3Result', true,
                            `–§–æ—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ pic/ ‚Äî —É–∑–ª—ã –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)`);
                    } else {
                        log3('–í–ù–ò–ú–ê–ù–ò–ï: –§–æ—Ç–æ –±—ã–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ <image> —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.');
                        log3('–í–æ–∑–º–æ–∂–Ω–æ, –±—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ SVG.');
                        setResult('test3Result', false,
                            `<image> —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ SVG, —Ö–æ—Ç—è —Ñ–æ—Ç–æ –±—ã–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã`);
                    }
                }

            } catch (err) {
                log2('–û–®–ò–ë–ö–ê: ' + err.message);
                console.error(err);
                setResult('test2Result', false, '–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞: ' + err.message);
                setResult('test3Result', false, '–¢–µ—Å—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞');
            }
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
        (async () => {
            const photoResults = await test1();
            await test2and3(photoResults);
        })();
    })();
    </script>

    <div style="margin-top:30px; padding:15px; background:#e8f4f8; border-radius:8px; font-size:14px;">
        <strong>üìã –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</strong>
        <ul>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>python3 -m http.server</code> –≤ –ø–∞–ø–∫–µ <code>ver1/</code>).</li>
            <li>–¢–µ—Å—Ç 1 –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ñ–∞–π–ª—ã —Ñ–æ—Ç–æ –ª–µ–∂–∞—Ç –≤ <code>pic/</code> –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ HTTP.</li>
            <li>–¢–µ—Å—Ç 2 —Å—Ç—Ä–æ–∏—Ç Graphviz –≥—Ä–∞—Ñ –∏—Å–ø–æ–ª—å–∑—É—è —à—Ç–∞—Ç–Ω—ã–π –∞—Ç—Ä–∏–±—É—Ç <code>image=</code> —á–µ—Ä–µ–∑ –æ–ø—Ü–∏—é <code>images</code> –≤ <code>renderString()</code>.</li>
            <li>–¢–µ—Å—Ç 3 –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ SVG —Å–æ–¥–µ—Ä–∂–∏—Ç <code>&lt;image&gt;</code> —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî —ç—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ä–∞–±–æ—Ç—É —à—Ç–∞—Ç–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞.</li>
            <li>–í—Å–µ —Ç—Ä–∏ —Ç–µ—Å—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å <span style="color:green;font-weight:bold">‚úÖ</span> –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ç–æ –≤ –¥–µ—Ä–µ–≤–µ.</li>
        </ul>
        <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:</strong> –ú–µ—Ç–æ–¥ <code>viz.renderString(dotCode, { images: [...] })</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
        <code>{ name, width, height }</code>, –≥–¥–µ <code>name</code> ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞—Ç—Ä–∏–±—É—Ç–µ <code>image=</code> —É–∑–ª–∞ DOT).
        Graphviz —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç –º–µ—Å—Ç–æ –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –≤–∫–ª—é—á–∞–µ—Ç <code>&lt;image href="–ø—É—Ç—å"&gt;</code> –ø—Ä—è–º–æ –≤ SVG-–≤—ã–≤–æ–¥.
        –ë—Ä–∞—É–∑–µ—Ä –∑–∞—Ç–µ–º –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ –ø–æ —ç—Ç–æ–º—É –ø—É—Ç–∏.</p>
        <p>–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å <code>idA</code> –∏–∑ Excel (—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º <code>.png</code>).<br>
        –ó–∞–≥–ª—É—à–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: <code>pic/dafaultm.png</code> (–º—É–∂—á–∏–Ω—ã), <code>pic/dafaultf.png</code> (–∂–µ–Ω—â–∏–Ω—ã).</p>
    </div>
</body>
</html>
